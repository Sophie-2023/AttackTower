#pragma once

#include "State.h"
#include "Troupe.h"
#include <SFML/Graphics.hpp>
#include "TroupeManager.h"

class EtatExploitation : public State {
 private:
  sf::Time tempsEcoule = sf::Time::Zero;
  sf::Time tempsTotal = sf::seconds(2.f);  // durée de l'exploitation
  sf::RectangleShape barreProgression;
  TroupeManager* troupeManager;
  sf::RenderWindow* window;

 public:
  EtatExploitation(TroupeManager* tm, sf::RenderWindow* win);
  void agir(Troupe& troupe, sf::Time elapsedTime) override;
  void draw(sf::RenderWindow& window) const;
};